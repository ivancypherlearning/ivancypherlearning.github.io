<!DOCTYPE html>
<html lang="es" itemscope itemtype="http://schema.org/WebPage">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="apple-touch-icon" sizes="76x76" href="./assets/img/apple-icon.png">
    <link rel="icon" type="image/png" href="./assets/img/favicon.png">
    <title>P1</title>
    <link rel="stylesheet" type="text/css"
          href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900|Roboto+Slab:400,700"/>
    <link href="./assets/css/nucleo-icons.css" rel="stylesheet"/>
    <link href="./assets/css/nucleo-svg.css" rel="stylesheet"/>
    <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    <link id="pagestyle" href="./assets/css/material-kit.css?v=3.0.4" rel="stylesheet"/>
    <link rel="stylesheet" href="./assets/css/animate.css"/>
</head>
<body class="index-page bg-gray-200">
<div id="app">
    <header class="header-2">
        <div class="page-header min-vh-35 relative" style="background-image: url('./assets/img/bg2.jpg')">
            <span class="mask bg-gradient-primary opacity-4"></span>
            <div class="container">
                <div class="row">
                    <div class="col-lg-7 text-center mx-auto">
                        <h1 class="text-white pt-3 mt-n5 animate__animated animate__bounceIn">
                            {{ saludo }}
                        </h1>
                        <p class="lead text-white mt-3 animate__animated animate__backInLeft">
                            Te damos la bienvenida a la ruta: <strong>{{ ruta }}</strong>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="card card-body blur shadow-blur mx-3 mx-md-4 mt-n6">
        <div class="container">
            <div class="row animate__animated animate__backInUp">
                <div class="row justify-content-center text-center my-sm-2">
                    <div class="col">
                        <span class="badge bg-primary mb-3">
                            Elementos de la ruta: <strong>{{ ruta }}</strong>
                        </span>
                        <h2 class="text-dark mb-0">
                            A continuación podrá ver todo el recorrido que tendrá la ruta.
                        </h2>
                    </div>
                </div>
            </div>
            <br><br>
            <div class="row animate__animated animate__bounceIn animate__delay-1s">
                <div class="col-1"></div>
                <div class="col-10" style="text-align: center">
                    <template v-for="(item, key, index) in data_path">
                        <template v-if="item.orientation == 1">
                            <div style="text-align: left">
                                <template v-if="tipe_role == 1">
                                    <a :href="item.url_docente" target="_top"
                                       class="btn bg-gradient-primary btn-icon btn-lg"
                                       type="button">
                                        <div class="d-flex align-items-center">
                                            <i class="material-icons me-2" aria-hidden="true">arrow_forward</i>
                                            {{ item.nombre }}
                                        </div>
                                    </a>
                                </template>
                                <template v-else>
                                    <a :href="item.url_estudiante" target="_top"
                                       class="btn bg-gradient-primary btn-icon btn-lg"
                                       type="button">
                                        <div class="d-flex align-items-center">
                                            <i class="material-icons me-2" aria-hidden="true">arrow_forward</i>
                                            {{ item.nombre }}
                                        </div>
                                    </a>
                                </template>
                            </div>
                        </template>
                        <template v-else>
                            <div style="text-align: right">
                                <template v-if="tipe_role == 1">
                                    <a :href="item.url_docente" target="_top"
                                       class="btn bg-gradient-primary btn-icon btn-lg"
                                       type="button">
                                        <div class="d-flex align-items-center">
                                            <i class="material-icons me-2" aria-hidden="true">arrow_back</i>
                                            {{ item.nombre }}
                                        </div>
                                    </a>
                                </template>
                                <template v-else>
                                    <a :href="item.url_estudiante" target="_top"
                                       class="btn bg-gradient-primary btn-icon btn-lg"
                                       type="button">
                                        <div class="d-flex align-items-center">
                                            <i class="material-icons me-2" aria-hidden="true">arrow_back</i>
                                            {{ item.nombre }}
                                        </div>
                                    </a>
                                </template>
                            </div>
                        </template>
                        <template v-if="item.orientation == 1 && !(key == data_path.length - 1)">
                            <div style="border-top: 6px dashed #e0e0e0; text-align: right">
                                <i class="material-icons me-2" aria-hidden="true">south</i>
                            </div>
                        </template>
                        <template v-else-if="item.orientation == 2 && !(key == data_path.length - 1)">
                            <div style="border-top: 6px dashed #e0e0e0; text-align: left">
                                <i class="material-icons me-2" aria-hidden="true">south</i>
                            </div>
                        </template>
                    </template>
                </div>
                <div class="col-1"></div>
            </div>
        </div>
    </div>
    <br><br><br>
    <div class="card card-body blur shadow-blur mx-3 mx-md-4 mt-n6">
        <section class="pt-3 pb-4" id="count-stats">
            <div class="container">
                <div class="row">
                    <div class="col-lg-9 mx-auto">
                        <div class="row">
                            <div class="col-md-4 position-relative">
                                <div class="p-3 text-center">
                                    <h1 class="text-gradient text-primary" id="state1" countTo="70"></h1>
                                    <h5 class="mt-3">
                                        Elementos
                                    </h5>
                                    <p class="text-sm font-weight-normal">
                                        Archivos, videos, clases y más
                                    </p>
                                </div>
                                <hr class="vertical dark">
                            </div>
                            <div class="col-md-4 position-relative">
                                <div class="p-3 text-center">
                                    <h1 class="text-gradient text-primary" id="state2" countTo="7"></h1>
                                    <h5 class="mt-3">
                                        Docentes
                                    </h5>
                                    <p class="text-sm font-weight-normal">
                                        Expertos del tema
                                    </p>
                                </div>
                                <hr class="vertical dark">
                            </div>
                            <div class="col-md-4">
                                <div class="p-3 text-center">
                                    <h1 class="text-gradient text-primary" id="state3" countTo="6"></h1>
                                    <h5 class="mt-3">
                                        Cursos
                                    </h5>
                                    <p class="text-sm font-weight-normal">
                                        Que podrás ingresar y revisar el material
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <footer class="footer pt-5 mt-5">
        <div class="container">
            <div class=" row">
                <div class="col-12">
                    <div class="text-center">
                        <p class="text-dark my-4 text-sm font-weight-normal">
                            © {{ date_now }}
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </footer>
</div>

<script src="./assets/js/core/popper.min.js" type="text/javascript"></script>
<script src="./assets/js/core/bootstrap.min.js" type="text/javascript"></script>
<script src="./assets/js/plugins/perfect-scrollbar.min.js"></script>
<script src="./assets/js/plugins/countup.min.js"></script>
<script src="./assets/js/plugins/choices.min.js"></script>
<script src="./assets/js/plugins/prism.min.js"></script>
<script src="./assets/js/plugins/highlight.min.js"></script>
<script src="./assets/js/plugins/rellax.min.js"></script>
<script src="./assets/js/plugins/tilt.min.js"></script>
<script src="./assets/js/plugins/choices.min.js"></script>
<script src="./assets/js/material-kit.min.js?v=3.0.4" type="text/javascript"></script>
<script src="./assets/js/data.js" type="text/javascript"></script>
<script src="./assets/js/axios.js" type="text/javascript"></script>

<script src="./assets/js/vue.js" type="text/javascript"></script>

<script>
    let app = new Vue({
        el: '#app',
        data: {
            saludo: '',
            ruta: '',
            date_now: '',
            data_path: [],
            tipe_role: '',
        },
        mounted: function () {
            this.mostrar_saludo();
            this.cargar_fecha_ahora();
            this.get_data_ruta();
            this.get_data_tipe_role();
            this.get_data_name_path();
        },
        methods: {
            mostrar_saludo: function () {
                let ahora = new Date();
                let hora = ahora.getHours();
                if (hora >= 6 && hora < 13) {
                    this.saludo = "Buenos días";
                } else if (hora >= 13 && hora < 21) {
                    this.saludo = "Buenas tardes";
                } else {
                    this.saludo = "Buenas noches";
                }
            },
            cargar_fecha_ahora: function () {
                this.date_now = new Date().getFullYear();
            },
            get_data_ruta: function () {
                axios.get('https://raw.githubusercontent.com/ivancypherlearning/ivancypherlearning.github.io/main/data.json')
                    .then((r) => {
                        this.data_path = r.data;
                    });
            },
            get_data_tipe_role: function () {
                alert(window.parent.location.href);
                if (window.parent.location.href.includes('teacher_custom')) {
                    this.tipe_role = 1;
                } else {
                    this.tipe_role = 2;
                }
            },
            get_data_name_path: function () {
                axios.get('https://raw.githubusercontent.com/ivancypherlearning/ivancypherlearning.github.io/main/data_name.json')
                    .then((r) => {
                        this.ruta = r.data[0].ruta;
                    });
            }
        }
    })
</script>

<script type="text/javascript">
    if (document.getElementById('state1')) {
        const countUp = new CountUp('state1', document.getElementById("state1").getAttribute("countTo"));
        if (!countUp.error) {
            countUp.start();
        } else {
            console.error(countUp.error);
        }
    }
    if (document.getElementById('state2')) {
        const countUp1 = new CountUp('state2', document.getElementById("state2").getAttribute("countTo"));
        if (!countUp1.error) {
            countUp1.start();
        } else {
            console.error(countUp1.error);
        }
    }
    if (document.getElementById('state3')) {
        const countUp2 = new CountUp('state3', document.getElementById("state3").getAttribute("countTo"));
        if (!countUp2.error) {
            countUp2.start();
        } else {
            console.error(countUp2.error);
        }
    }
</script>
</body>
</html>